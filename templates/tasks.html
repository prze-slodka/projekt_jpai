<!DOCTYPE html>
<html
    data-wf-page="681b1f22853d2d51a5088570"
    data-wf-site="681b1f21853d2d51a5088437"
    data-wf-status="1"
    lang="en"
>
    <head>
        <meta charset="utf-8" />
        <title>Taskoinator - My Tasks</title>
        <meta
            name="description"
            content="Aplikacja do zarzÄ…dzania zadaniami w rodzinie lub zespoles."
        />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Webflow" />
        <link
            href="{{ url_for('static', filename='css/stylesheet.css') }}"
            rel="stylesheet"
            type="text/css"
        />
        <script type="text/javascript">
            !(function (o, c) {
                var n = c.documentElement,
                    t = " w-mod-";
                (n.className += t + "js"),
                    ("ontouchstart" in o ||
                        (o.DocumentTouch && c instanceof DocumentTouch)) &&
                        (n.className += t + "touch");
            })(window, document);
        </script>
        <link
            href="{{ url_for('static', filename='images/Favicon.jpg') }}"
            rel="shortcut icon"
            type="image/x-icon"
        />
        <link
            href="{{ url_for('static', filename='images/webclip.jpg') }}"
            rel="apple-touch-icon"
        />
        <style>
            /* Remove default checkbox circle background and allow checking/unchecking */
            .task-status-checkbox {
                appearance: none;
                -webkit-appearance: none;
                width: 18px;
                height: 18px;
                border: 2px solid #888;
                border-radius: 4px;
                background: #fff;
                cursor: pointer;
                vertical-align: middle;
                position: relative;
            }
            .task-status-checkbox:checked {
                background: #4caf50;
                border-color: #4caf50;
            }
            .task-status-checkbox:checked::after {
                content: '';
                display: block;
                position: absolute;
                left: 5px;
                top: 1px;
                width: 4px;
                height: 9px;
                border: solid #fff;
                border-width: 0 2px 2px 0;
                transform: rotate(45deg);
            }
        </style>
    </head>
    <body class="body">
        <div
            data-animation="default"
            data-collapse="medium"
            data-duration="400"
            data-easing="ease"
            data-easing2="ease"
            role="banner"
            class="navbar w-nav"
        >
            <div class="padding-global">
                <div class="container w-container">
                    <div class="navbar-component">
                        <a
                            href="{{ url_for('index') }}"
                            data-w-id="6deb3682-e1f7-9f5f-adeb-87fc1448026f"
                            class="brand w-nav-brand"
                        >
                            <img
                                src="{{ url_for('static', filename='images/logo_taskoinator.png') }}"
                                loading="lazy"
                                alt="Taskoinator Logo"
                            />
                        </a>
                        <div class="nav-menu-wrap">
                            <div>
                                <nav
                                    role="navigation"
                                    class="nav-menu w-nav-menu"
                                >
                                    <a
                                        href="{{ url_for('index') }}"
                                        class="nav-link w-inline-block"
                                    >
                                        <div>TASKOINATOR</div>
                                    </a>
                                    <div class="mobile-navbar-content">
                                        <a
                                            href="{{ url_for('tasks') }}"
                                            class="link-block-navbar w-inline-block"
                                        >
                                            <div>My tasks</div>
                                        </a>
                                        <a
                                            href="{{ url_for('settings') }}"
                                            class="link-block-navbar w-inline-block"
                                        >
                                            <div>Settings</div>
                                        </a>
                                    </div>
                                </nav>
                                <div class="nav-menu-wrap">
                                    <div class="menu-button w-nav-button">
                                        <div
                                            class="menu-icon w-icon-nav-menu"
                                        ></div>
                                    </div>
                                </div>
                            </div>
                            <div class="right-navbar-content">
                                <a
                                    href="{{ url_for('logout') }}"
                                    class="link-block-navbar w-inline-block"
                                >
                                    <div>Log out</div>
                                </a>
                                <a
                                    href="{{ url_for('stats') }}"
                                    class="link-block-navbar w-inline-block"
                                >
                                    <div>My stats</div>
                                </a>
                                <a
                                    href="{{ url_for('tasks') }}"
                                    class="link-block-navbar w-inline-block w--current"
                                >
                                    <div>My tasks</div>
                                </a>
                                <a
                                    href="{{ url_for('settings') }}"
                                    class="link-block-navbar w-inline-block"
                                >
                                    <div>Settings</div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <section>
            <div class="padding-global">
                <div class="w-layout-blockcontainer container w-container">
                    <div class="features-wrapper">
                        <div class="features-component">
                            <div
                                class="div-block"
                                style="
                                    display: flex;
                                    justify-content: space-between;
                                "
                            >
                                <div
                                    class="w-layout-blockcontainer container-3 w-container"
                                    style="
                                        display: flex;
                                        flex-direction: column;
                                        flex-grow: 1;
                                    "
                                >
                                    <style>
                                        @media (min-width: 992px) {
                                            .container-3.w-container {
                                                flex-direction: row !important;
                                            }
                                        }
                                    </style>
                                    <div
                                        data-animation="default"
                                        data-collapse="medium"
                                        data-duration="400"
                                        data-easing="ease"
                                        data-easing2="ease"
                                        role="banner"
                                        class="desktop-only"
                                    >
                                        <div
                                            class="w-container"
                                            style="
                                                display: flex;
                                                flex-direction: column;
                                                gap: 10px;
                                            "
                                        >
                                            <a href="#" class="w-nav-brand">
                                                <div
                                                    class="text-block-5"
                                                    style="color: #dfebee"
                                                >
                                                    Teams
                                                </div>
                                            </a>
                                            <nav
                                                role="navigation"
                                                class="nav-menu-3 w-nav-menu"
                                                style="
                                                    display: flex;
                                                    flex-direction: column;
                                                    gap: 10px;
                                                "
                                            >
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap-checked"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 1
                                                    </div>
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 3
                                                    </div>
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 2
                                                    </div>
                                                </div>
                                            </nav>
                                        </div>
                                        <div class="menu-button-3 w-nav-button">
                                            <div class="w-icon-nav-menu"></div>
                                        </div>
                                    </div>
                                    <div
                                        data-animation="default"
                                        data-collapse="medium"
                                        data-duration="400"
                                        data-easing="ease"
                                        data-easing2="ease"
                                        role="banner"
                                        class="navbar-3 mobile-burger w-nav"
                                    >
                                        <div class="w-container">
                                            <a href="#" class="w-nav-brand">
                                                <div class="text-block-5">
                                                    Teams
                                                </div>
                                            </a>
                                            <nav
                                                role="navigation"
                                                class="nav-menu-3 w-nav-menu"
                                            >
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap-checked"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 1
                                                    </div>
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 3
                                                    </div>
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 2
                                                    </div>
                                                </div>
                                            </nav>
                                        </div>
                                        <div class="menu-button-3 w-nav-button">
                                            <div class="w-icon-nav-menu"></div>
                                        </div>
                                    </div>
                                    <div
                                        data-animation="default"
                                        data-collapse="medium"
                                        data-duration="400"
                                        data-easing="ease"
                                        data-easing2="ease"
                                        role="banner"
                                        class="navbar-3 mobile-burger w-nav"
                                    >
                                        <div class="container-8 w-container">
                                            <nav
                                                role="navigation"
                                                class="nav-menu-3 w-nav-menu"
                                            >
                                                <div class="hashtag">
                                                    #kuchnia
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap-checked"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 1
                                                    </div>
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 3
                                                    </div>
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 2
                                                    </div>
                                                </div>
                                            </nav>
                                            <nav
                                                role="navigation"
                                                class="nav-menu-3 w-nav-menu"
                                            >
                                                <div class="hashtag">
                                                    #kuchnia
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap-checked"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 1
                                                    </div>
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 3
                                                    </div>
                                                </div>
                                                <div class="check-item">
                                                    <div
                                                        class="check-icon-wrap"
                                                    >
                                                        <img
                                                            width="14"
                                                            height="12"
                                                            alt="Icon"
                                                            src="https://cdn.prod.website-files.com/681b1f21853d2d51a5088437/681b1f22853d2d51a50885e4_Check%20Icon.svg"
                                                            loading="lazy"
                                                            class="check-icon"
                                                        />
                                                    </div>
                                                    <div
                                                        class="text-size-medium"
                                                    >
                                                        Team 2
                                                    </div>
                                                </div>
                                            </nav>
                                        </div>
                                    </div>
                                    <div class="container-4 w-container">
                                        <div class="text-block-2">Tasks:</div>
                                        {% if tasks and tasks|length > 0 %}
                                            {% for task in tasks %}
                                                <div class="w-layout-blockcontainer container-5 w-container task-item" data-task-id="{{ task.id }}">
                                                    <div>
                                                        <input type="checkbox"
                                                            class="task-status-checkbox"
                                                            {% if task.status %}checked{% endif %}
                                                            data-task-id="{{ task.id }}"
                                                            style="width:18px;height:18px;vertical-align:middle;"/>
                                                    </div>
                                                    <div class="text-block-3">
                                                        {{ task.title }}
                                                    </div>
                                                    <div class="text-block-4">
                                                        {% if task.completion_date %}{{ task.completion_date }}{% else %}-{% endif %}
                                                    </div>
                                                    <details class="task-details">
                                                        <summary class="task-details-summary">
                                                            Details
                                                        </summary>
                                                        {% if task.tags %}
                                                            <div class="hashtag">
                                                                {% for tag in task.tags|safe|from_json %}
                                                                    #{{ tag }}
                                                                {% endfor %}
                                                            </div>
                                                        {% endif %}
                                                        <div class="text-block-6">
                                                            @{{ task.assigned_nick }}
                                                        </div>
                                                        <div class="number_red">{{ task.priority }}</div>
                                                    </details>
                                                    <div class="hashtag desktop-only">
                                                        {% if task.tags %}
                                                            {% for tag in task.tags|safe|from_json %}
                                                                #{{ tag }}
                                                            {% endfor %}
                                                        {% endif %}
                                                    </div>
                                                    <div class="text-block-6 desktop-only">
                                                        @{{ task.assigned_nick }}
                                                    </div>
                                                    <div class="number_red desktop-only">
                                                        {{ task.priority }}
                                                    </div>
                                                </div>
                                            {% endfor %}
                                        {% else %}
                                            <div>No tasks assigned to you.</div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="section">
            <div class="padding-global">
                <div class="w-layout-blockcontainer container w-container">
                    <div class="footer-component">
                        <div
                            data-w-id="93f4457d-ec22-3c66-b213-0b7ef6a67168"
                            class="footer-links-wrapper"
                        >
                            <div class="credits-wrapper">
                                <p class="paragraph">
                                    <span class="text-color-white">
                                        Made by POWERPUFF GIRLS
                                    </span>
                                </p>
                                <img
                                    src="{{ url_for('static', filename='images/logo_taskoinator.png') }}"
                                    loading="lazy"
                                    alt="Taskoinator Logo"
                                    class="image-2"
                                />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <script
            src="{{ url_for('static', filename='js/jquery.js') }}"
            type="text/javascript"
        ></script>
        <script
            src="{{ url_for('static', filename='js/webflow.schunk.36b8fb49256177c8.js') }}"
            type="text/javascript"
        ></script>
        <script
            src="{{ url_for('static', filename='js/webflow.schunk.3718917d6b52e592.js') }}"
            type="text/javascript"
        ></script>
        <script
            src="{{ url_for('static', filename='js/webflow-script.js') }}"
            type="text/javascript"
        ></script>
        <script>
            // Script to handle team selection and close dropdown on mobile
            document.addEventListener("DOMContentLoaded", function () {
                const teamLinks = document.querySelectorAll(
                    ".nav-menu-3.w-nav-menu .check-item"
                );

                teamLinks.forEach((link) => {
                    link.addEventListener("click", function (event) {
                        event.preventDefault(); // Prevent default navigation
                        // Optionally close dropdown after selection
                        const navbar = this.closest(".w-nav");
                        if (navbar && navbar.classList.contains("w--open")) {
                            const menuButton =
                                navbar.querySelector(".w-nav-button");
                            if (menuButton) {
                                menuButton.click(); // Simulate menu button click to close dropdown
                            }
                        }
                    });
                });
            });

            document.addEventListener('DOMContentLoaded', function() {
                document.querySelectorAll('.task-status-checkbox').forEach(function(checkbox) {
                    checkbox.addEventListener('change', function() {
                        const taskId = this.getAttribute('data-task-id');
                        const status = this.checked ? 1 : 0;
                        fetch('{{ url_for("tasks") }}', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'X-Requested-With': 'XMLHttpRequest'
                            },
                            body: JSON.stringify({task_id: taskId, status: status})
                        })
                        .then(response => response.json())
                        .then(data => {
                            // Optionally, you can show a toast or update UI
                            // No need to remove or reorder tasks, backend orders on reload
                        });
                    });
                });
            });
        </script>
    </body>
</html>
